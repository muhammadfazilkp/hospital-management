(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9175],{16010:function(e,t,r){"use strict";r.d(t,{J5:function(){return b}});var n=r(77916),o=r(55312),a=r(51848),s=r(24642),i=r.n(s),l=r(46450),c=r(32147),u=r(29901),f=r(7078),d=r(61250),p=["isDotLottie","playerRef","src"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=function(e){var t=e.isDotLottie,r=e.playerRef,n=e.src,s=(0,a.Z)(e,p),h=(0,u.useState)(),b=h[0],v=h[1],m=(0,u.useMemo)((function(){if(t)return!0;if("string"==typeof n){var e,r,o=null!==(e=n.split("/").pop())&&void 0!==e?e:n;return"lottie"===(null!==(r=o.split("?")[0])&&void 0!==r?r:o).split(".").pop()}return!1}),[n,t]);return(0,u.useEffect)((function(){if(m)return function(){};if("string"==typeof n){var e=!0,t=function(){var t=(0,o.Z)(i().mark((function t(){var r,o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(n);case 2:return r=t.sent,t.next=5,r.json();case 5:o=t.sent,e&&v(o);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){e=!1}}return v(n),function(){}}),[n,m]),m?"string"==typeof n&&n?(0,d.jsx)(l.y1,x(x({src:n,ref:r},s),{},{style:x({height:"100%"},(null==s?void 0:s.style)&&s.style)})):(0,d.jsx)(f.a,{type:"spinner",size:"lg"}):b?(0,d.jsx)(c.J5,x(x({src:b||"",ref:r},s),{},{style:x({height:"100%"},(null==s?void 0:s.style)&&s.style)})):(0,d.jsx)(f.a,{type:"spinner",size:"lg"})}},87198:function(e,t,r){"use strict";r.d(t,{T:function(){return c}});var n=r(29901),o=r(83771),a=r(2950),s=r(2512),i=r(3481),l=r(61250),c=function(e){var t=e.onChange,r=e.value,c=(0,o.p)(),u=(0,n.useRef)(null),f=(0,n.useState)("auto"),d=f[0],p=f[1],h=(0,n.useCallback)((function(e){t(e.target.value),p("".concat(e.target.value.length,"ch")),e.target.value.length===a.C&&(null==c||c.pushInfo("Asset name shortened to ".concat(a.C," characters")))}),[t]),x=(0,n.useCallback)((function(){var e;null===(e=u.current)||void 0===e||e.select()}),[]);(0,n.useEffect)((function(){var e=function(e){"Enter"===e.key&&e.preventDefault()},t=u.current;return t?(t.addEventListener("keydown",e),function(){t.removeEventListener("keydown",e)}):function(){}}),[]);var b=(0,n.useMemo)((function(){return{width:d}}),[d]);return(0,l.jsxs)("div",{className:"flex items-center w-full space-x-2 text-sm text-gray-900",children:[(0,l.jsx)(i.I,{onChange:h,inputRef:u,value:r,maxLength:a.C,customClasses:"w-full bg-transparent border-none outline-none focus:ring-0 p-0 m-0 text-sm text-gray-900",style:b}),(0,l.jsx)("button",{type:"button",className:"inline-flex",onClick:x,children:(0,l.jsx)(s.J,{name:"pencil"})})]})}},58651:function(e,t,r){"use strict";r.r(t),r.d(t,{LoginWallModal:function(){return f}});var n=r(29901),o=r(70012),a=r(32771),s=r(47399),i=r(16981),l=r(7078),c=r(61250),u="https://accounts.lottiefiles.com",f=function(e){var t=e.closeCallback,r=e.description,f=e.redirectTo,d=e.showCloseButton,p=e.showLoading,h=e.showModal,x=e.title,b=(0,n.useCallback)((function(){t&&t()}),[t]),v=f?"".concat(u,"/register?return_to=").concat(encodeURIComponent(f)):"/register",m=f?"".concat(u,"/login?return_to=").concat(encodeURIComponent(f)):"/login",y=x||(0,c.jsxs)(c.Fragment,{children:["Letâ€™s get you an account first"," ",(0,c.jsx)("span",{role:"img","aria-label":"hands up",children:"ðŸ™Œ"})]}),j=r||"Please sign up or log in to continue. Weâ€™ve got thousands of free animations and a whole lot of handy tools just waiting for you!";return(0,c.jsxs)(a.ModalV2,{show:h,closeCallback:b,showCloseButton:d,paddingSize:"custom",customPadding:"0",size:"md",children:[p&&(0,c.jsx)(l.a,{type:"spinner"}),!p&&(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:"flex flex-col px-20 pt-12 pb-8 mx-auto bg-gray-50",children:[(0,c.jsx)(s.Z,{variant:"heading-1",darkest:!0,children:y}),(0,c.jsx)("div",{className:"pb-2"}),(0,c.jsx)(s.Z,{variant:"content",children:j})]}),(0,c.jsxs)("div",{className:"flex flex-col items-center justify-center p-8 mx-auto w-72",children:[(0,c.jsx)(i.r,{className:"flex w-full h-10",href:v,children:(0,c.jsx)(o.z,{text:"Sign up",fluid:!0})}),(0,c.jsx)("div",{className:"pt-4"}),(0,c.jsxs)(s.Z,{variant:"content",children:["Already have an account?",(0,c.jsx)(i.r,{className:"ml-1 text-teal-300",href:m,children:"Log in"})]})]})]})]})};t.default=f},45950:function(e,t,r){"use strict";r.d(t,{p:function(){return o}});var n=r(29901),o=function(){return{openWithEditor:(0,n.useCallback)((function(e){var t;window.open("".concat("https://editor.lottiefiles.com","?src=").concat(encodeURIComponent("".concat("https://editor-integration-workflow.lottiefiles.com","/edit/").concat(e.id,"?hash=").concat(e.editHash,"&filename=editor.json"))).concat(e.backgroundColor?"&bg_color=".concat(null===(t=e.backgroundColor)||void 0===t?void 0:t.replace("#","")):"","&hash=").concat(e.editHash,"&fileUrl=").concat(encodeURIComponent(e.fileObject.url),"&origin=workflow&save2workflow=true&fileId=").concat(e.id),"_blank")}),[])}}},2583:function(e,t,r){"use strict";r.r(t),r.d(t,{PreviewPage:function(){return he},PreviewPageContents:function(){return pe},default:function(){return xe}});var n=r(27722),o=r(55081),a=r(78733),s=r(29901),i=r(95902),l=r(46019),c=r(76644),u=r(3325),f=r(30259),d=r(70568),p=r(82048),h=r(61250),x=function(e){var t=e.children,r=(0,f.a)().isAuthenticated,n=(0,l.useRecoilValue)(p.W),o=(0,l.useResetRecoilState)(p.W),a=(0,s.useCallback)((function(){o()}),[o]);return r?(0,h.jsx)(u.x,{children:(0,h.jsxs)(d.W5,{children:[t,n&&(0,h.jsx)(c.UpgradeModal,{show:!0,onCloseCallback:a,workspaceId:n.workspaceId,source:n.source,additionalParams:n.additionalParams})]})}):(0,h.jsx)(h.Fragment,{children:t})},b=r(83849),v=r.n(b),m=r(16010),y=function(e){var t=e.children,r=e.href,n=e.last,o=void 0!==n&&n,a=e.src;return(0,h.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",className:v()("cursor-pointer",{"mr-10":!o}),children:(0,h.jsxs)("div",{className:"flex flex-col items-center w-72",children:[(0,h.jsx)("div",{className:"overflow-hidden rounded-xl w-72",children:(0,h.jsx)(m.J5,{autoplay:!0,loop:!0,src:a})}),(0,h.jsx)("h3",{className:"py-4 text-center text-gray-900 font-lf-semi-bold",children:t})]})})},j=r(77916),g=r(89303),w=r(51848),k=r(55312),C=r(24642),O=r.n(C),E=r(68668),D=r(64892),S=r(81638),L=r(43558),P=r(7e3),N=r(45950),I=r(89572),U=r(59859),R=r(37726),Z=r(64167);function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=function(e){return _({},{folderId:e.folderId,projectId:e.projectId})},M=function(e){var t=e.destination,r=e.editorKey,n=e.file,o=e.filename,i=e.isDotLottie,l=e.isFromUrl,c=e.onStatusChange,u=e.status,f=(0,S.Db)(I.v9),d=(0,g.Z)(f,2)[1],p=(0,S.Db)(I.qM),x=(0,g.Z)(p,2)[1],b=(0,S.Db)(R.cn),v=(0,g.Z)(b,2)[1],m=(0,S.Db)(U.xb),y=(0,g.Z)(m,2)[1],j=(0,s.useState)(),w=j[0],C=j[1],F=(0,s.useState)(""),M=F[0],T=F[1],z=(0,s.useState)(""),V=z[0],q=z[1],W=(0,s.useRef)(!1),J=(0,a.useRouter)(),Q=n.type,K="project"===t.type||"folder"===t.type?t.workspaceId:"",B="project"===t.type||"folder"===t.type?t.projectId:"",H=l?"URL":"Direct",Y=(0,N.p)().openWithEditor,G=J.query.source,X=(0,s.useCallback)((function(e){var t=new E.d4({reason:e,fileType:Q,workspaceId:K,projectId:B,source:H});(0,E.Z9)(t)}),[Q,B,H,K]),$=(0,s.useCallback)(function(){var e=(0,k.Z)(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.versionId||!t.thumbnails||W.current){e.next=4;break}return e.next=3,y({fileKey:t.key});case 3:W&&(W.current=!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[y]),ee=(0,s.useCallback)((0,k.Z)(O().mark((function e(){var t,r,o,a,s,i,l;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:if(r=e.sent,null===(t=r.data)||void 0===t||!t.fileUploadRequestCreate){e.next=11;break}return o=r.data.fileUploadRequestCreate,a=o.fields,s=o.key,i=o.url,e.next=7,(0,Z.Rl)({presignedPostData:{key:s,url:i,fields:a},file:n,onLoadStart:function(){c({status:L.xD.Uploading})},onLoad:function(){c({status:L.xD.Uploaded})},onError:function(){c({status:L.xD.Errored,errorMessage:P.Ue}),X(E.ni.SAVE_FAILED)}});case 7:return l=e.sent,C(l),T(s),e.abrupt("return");case 11:r.error&&(c({status:L.xD.Errored,errorMessage:P.Ue}),X(E.ni.SAVE_FAILED));case 12:case"end":return e.stop()}}),e)}))),[n,c,X,v]),te=(0,s.useCallback)((function(e,t){var r=null==t?void 0:t.fileUpdate;return null!=r&&r.versionId&&q(r.versionId),r&&W.current&&$(r),e&&!W.current?_(_({},e),r):r}),[$]),re=(0,S.mU)({query:R.Rd,variables:{key:M},pause:!M},te),ne=(0,g.Z)(re,1)[0];(0,s.useEffect)((function(){u===L.xD.Waiting&&ee()}),[u,ee]);var oe=(0,s.useCallback)((function(e){var t=e.id;"editor"===G?Y(e):J.push("/animation/".concat(t))}),[Y,G,J]);return(0,s.useEffect)((function(){var e=!0,n=function(){var n=(0,k.Z)(O().mark((function n(){var a,s,i,l,u,f,p;return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d({input:_({name:o,fileKey:M,editorKey:r,fileVersionId:V},A(t))});case 2:if(s=n.sent,e){n.next=5;break}return n.abrupt("return");case 5:if(null===(a=s.data)||void 0===a||!a.fileCreate){n.next=12;break}return u=null===(i=s.data)||void 0===i?void 0:i.fileCreate,f=u.id,p=new E.mw({fileId:f,fileType:Q,source:H,projectId:B,workspaceId:K}),(0,E.Z9)(p),c({status:L.xD.Succeeded}),oe(null===(l=s.data)||void 0===l?void 0:l.fileCreate),n.abrupt("return");case 12:s.error&&(c({status:L.xD.Errored,errorMessage:P.Ue}),X(E.ni.SAVE_FAILED));case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return u===L.xD.Uploaded&&V&&M&&n(),function(){e=!1}}),[u,B,K,V,M,o,Q,H,oe,t,l,i,d,X,c,r]),(0,s.useEffect)((function(){if(u===L.xD.Uploaded){var e=setTimeout((0,k.Z)(O().mark((function e(){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u===L.xD.Uploaded){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,x({input:_({fileKey:M,name:o},A(t))});case 5:if(!(r=e.sent).error){e.next=10;break}return c({status:L.xD.Errored,errorMessage:P.Ue}),X(E.ni.SAVE_FAILED),e.abrupt("return");case 10:r.data&&(oe(r.data.fileCreateFallback),c({status:L.xD.Succeeded})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),c({status:L.xD.Errored,errorMessage:P.Ue}),X(E.ni.SAVE_FAILED);case 17:case"end":return e.stop()}}),e,null,[[2,13]])}))),D.xC);return function(){clearTimeout(e)}}return function(){}}),[u,M,V,t,o,J,c,X,x,oe]),(0,s.useEffect)((function(){ne.error&&u!==L.xD.Errored&&(c({status:L.xD.Errored,errorMessage:P.Ue}),X(E.ni.SAVE_FAILED))}),[u,ne.error,X,c]),(0,s.useEffect)((function(){return function(){w&&w.abort()}}),[w]),(0,h.jsx)(h.Fragment,{})},T=r(53407),z=r(83771),V=function(e){var t=e.onStageFile,r=e.source,n=(0,z.p)(),o=(0,s.useCallback)((function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=(0,L.hQ)(e,r);t({file:n})}}),[t]),a=(0,s.useCallback)((function(e,t){if(e.length>0)return o(e[0]),void(e.length>1&&(null==n||n.pushInfo(P.Ie)));if(t.length>0){var r=t.find((function(e){var t;return 1===e.errors.length&&"too-many-files"===(null===(t=e.errors[0])||void 0===t?void 0:t.code)}));if(r)return o(r.file),void(null==n||n.pushInfo(P.Ie));null==n||n.pushError(P.hh)}}),[o,n]),i=(0,s.useCallback)((function(e){e&&o(e,!0)}),[o]);return(0,h.jsx)(T.i,{maxFiles:1,dropzoneVerb:"editor"===r?"Edit":"Preview",pathSelectorModalTitle:"Select save location",urlInputVerb:"editor"===r?"Edit":"Preview",showPathSelector:!1,dropzoneRounded:!0,onDropZoneChange:a,onUploadFromUrlChange:i})},q=r(99575),W=r(87200),J=r(58651),Q=r(87198),K=r(70012),B=r(32771),H=r(47399),Y=r(7078),G=r(89203),X=r(55050),$=r(5534),ee=function(e){var t=e.dataUrl,r=e.filename,n=e.isDotLottie,o=e.isSaving,a=e.onClose,i=e.onFilenameChange,c=e.onSaveClick,u=e.show,f=e.source,d=(0,l.useRecoilValue)($.QJ),p=(0,s.useCallback)((function(e){o||i(e)}),[o,i]),x=(0,s.useCallback)((function(){o||null==a||a()}),[o,a]);return(0,h.jsx)(B.ModalV2,{titleCssClass:"leading-6 text-gray-900 font-lf-semi-bold",title:"Save animation to workspace",show:u,closeCallback:x,paddingSize:"lg",size:"md",children:(0,h.jsxs)("div",{className:"flex flex-col",children:[(0,h.jsx)(X.Q,{destination:d,verb:"save"}),(0,h.jsxs)("div",{className:"space-y-4",children:[(0,h.jsxs)("div",{className:"flex mb-3 -mr-2",children:[(0,h.jsx)("div",{className:"w-1/2",children:(0,h.jsx)(Q.T,{value:r,onChange:p})}),(0,h.jsx)("div",{className:"w-1/2",children:(0,h.jsx)(G.F,{modalTitle:"Select save location"})})]}),(0,h.jsxs)("div",{className:v()("my-8 border",{"flex flex-col h-[332px] items-center space-y-6 justify-center":!t,"space-y-4":t}),children:[!t&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(Y.a,{type:"lottie",size:"md",loaderOnly:!0}),(0,h.jsx)(H.Z,{color:"gray",darker:!0,children:"Fetching..."})]}),t&&(0,h.jsx)(m.J5,{src:t,isDotLottie:n,autoplay:!0,controls:!0,isEditorModal:!0,loop:!0})]}),(0,h.jsx)("div",{className:"flex justify-center mt-8 space-x-2 text-center",children:(0,h.jsx)(K.z,{showLoader:o,text:"editor"===f?"Save & open in Editor":"Save",variant:"primary",onClick:c,disabled:!t||!d})})]})]})})},te=r(2141),re=r(46263),ne=["query"];function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){(0,j.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se=function(){var e=(0,k.Z)(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var n=new FileReader;n.onload=function(t){var n;null!==(n=t.target)&&void 0!==n&&n.result?e(t.target.result):r(new Error("Failed to read file"))},n.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=(0,f.a)().isAuthenticated,t=(0,a.useRouter)(),r=t.query,n=(0,w.Z)(t,ne),o=(0,s.useState)(!1),i=o[0],c=o[1],u=(0,l.useRecoilState)(re.s),d=(0,g.Z)(u,2)[1],p=r.fileUrl,x=r.key,b=(0,s.useState)(null),v=b[0],m=b[1],y=(0,s.useState)(""),j=y[0],C=y[1],N=(0,s.useState)(null),U=N[0],R=N[1],F=(0,l.useRecoilValue)($.QJ),_=(0,s.useState)(),A=_[0],T=_[1],Q=(0,s.useState)(!1),K=Q[0],B=Q[1],H=(0,s.useState)(!1),Y=H[0],G=H[1],X=(0,s.useState)(),oe=X[0],ie=X[1],le=(0,s.useState)(!1),ce=le[0],ue=le[1],fe=(0,z.p)(),de=r.source,pe="folder"===(null==F?void 0:F.type)||"project"===(null==F?void 0:F.type)?F.workspaceId:"",he=(0,te.F)(pe),xe=he.fileLimit,be=he.hasFileLimit,ve=he.willExceedFileLimit,me=(0,S.Db)(I.Q2),ye=(0,g.Z)(me,2)[1],je=(0,s.useCallback)((function(e){var t=new E.d4({reason:e});(0,E.Z9)(t)}),[]),ge=(0,s.useCallback)((function(e){if(!(0,L.A6)((null==e?void 0:e.type)||"none")&&"lottie"!==(null==e?void 0:e.name.split(".").slice(-1)[0])){var t=P.De;return null==fe||fe.pushError(t),je(E.ni.WRONG_FORMAT),!1}if((null==e?void 0:e.size)>D.Sy){var r=P.ft;return null==fe||fe.pushError(r),je(E.ni.FILE_SIZE),!1}return!0}),[je,fe]),we=(0,s.useMemo)((function(){if("string"==typeof p)try{var e=new URL(p);if("https:"===e.protocol||"http:"===e.protocol)return p}catch(e){}return""}),[p]),ke=window.location.href,Ce=(0,s.useCallback)(function(){var e=(0,k.Z)(O().mark((function e(t){var o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||!t.blob){e.next=11;break}return e.next=3,ye({filename:t.filename});case 3:if(!(o=e.sent).data){e.next=11;break}return d(!0),e.next=8,fetch(o.data.workflowTempFileUploadRequestCreate.preSignedUploadURL,{method:"put",body:t.blob,headers:{"Content-Type":t.blob.type}});case 8:e.sent.ok&&n.push({query:ae(ae({},r),{},{fileUrl:o.data.workflowTempFileUploadRequestCreate.publicReadURL},x?{key:x}:{})}),d(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ye,d,n,r,x]),Oe=(0,s.useCallback)((function(e){var t=e.file,r=e.url;m(r),C(function(e){var t=e.lastIndexOf(".");return-1===t?e:e.substring(0,t)}(t.filename)),ie(null),R(t),B(!1),G(!0)}),[]),Ee=(0,s.useCallback)(function(){var t=(0,k.Z)(O().mark((function t(r){var n,o;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=r.file).blob){t.next=3;break}return t.abrupt("return");case 3:if(ge(n.blob)){t.next=5;break}return t.abrupt("return");case 5:if(e){t.next=9;break}return t.next=8,Ce(n);case 8:return t.abrupt("return");case 9:return t.next=11,se(n.blob);case 11:o=t.sent,Oe({file:n,url:o});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,Ce,ge,Oe]),De=(0,s.useCallback)(function(){var e=(0,k.Z)(O().mark((function e(t){var r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t.file).blob){e.next=3;break}return e.abrupt("return");case 3:if(!(0,Z.BM)(r.blob)){e.next=6;break}return ie(r.blob),e.abrupt("return");case 6:Ee({file:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[Ee]),Se=(0,s.useCallback)((function(){c(!1)}),[]),Le=(0,s.useCallback)((function(e){C(e)}),[]),Pe=(0,s.useCallback)((function(){m(""),C(""),ie(null),R(null),B(!1),G(!1),n.push({query:ae(ae({},r),{},{fileUrl:""},x?{key:x}:{})})}),[n,r,x]),Ne=(0,s.useCallback)((function(){if(U&&F){if(be&&ve(1))return ue(!0),void G(!1);T(F),B(!0)}}),[U,F,ve,be]),Ie=(0,s.useCallback)(function(){var e=(0,k.Z)(O().mark((function e(t){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R((function(e){return ae(ae({},e),t)})),L.Ud.includes(t.status)&&B(!1),t.status===L.xD.Errored&&(null==fe||fe.pushError(t.errorMessage));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[fe]);(0,s.useEffect)((function(){var t=!0,r=function(){t=!1};if(!we)return r;if(!e)return c(!0),r;var n=function(){var e=(0,k.Z)(O().mark((function e(){var r,n,o;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Z.aH)(we);case 2:if(r=e.sent,!(0,Z.BM)(r)){e.next=6;break}return ie(r),e.abrupt("return");case 6:if(ge(r)){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,se(r);case 10:n=e.sent,t&&(o=(0,L.hQ)(r,!0),Oe({url:n,file:o}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n(),r}),[we,e,ge,Oe]);var Ue=(0,s.useCallback)((function(){ue(!1)}),[]),Re=(0,s.useCallback)((function(e){var t=e[0];Ee({file:t}),ie(null)}),[Ee]),Ze=(0,s.useCallback)((function(e){null==fe||fe.pushError(e),Pe()}),[fe,Pe]);return(0,W.P)({file:oe,onError:Ze,onQueueZipEntries:Re}),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(V,{source:de,onStageFile:De,hidePathSelectorTooltip:!1}),!e&&i&&(0,h.jsx)(J.LoginWallModal,{redirectTo:ke,showModal:i,closeCallback:Se}),e&&Y&&(0,h.jsx)(ee,{source:de,dataUrl:v,isSaving:K,filename:j,isDotLottie:null==U?void 0:U.isDotLottie,show:Y&&e,onClose:Pe,onFilenameChange:Le,onSaveClick:Ne}),K&&void 0!==(null==U?void 0:U.blob)&&null!==U.blob&&A&&(0,h.jsx)(M,{editorKey:x,destination:A,file:U.blob,filename:j,status:U.status,isDotLottie:U.isDotLottie,isFromUrl:U.isDotLottie,onStatusChange:Ie}),ce&&(0,h.jsx)(q.H,{show:ce,onClose:Ue,uploadLimit:xe,workspaceId:pe})]})},le=r(2512),ce=r(16981),ue="Preview, test and share Lottie animations",fe="Easily edit & customize Lottie animations",de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return"editor"===e?fe:ue},pe=function(){var e="".concat("https://lottiefiles.com"),t=(0,a.useRouter)().query.source;return(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsxs)("div",{className:"pb-12 bg-white h-3/5",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,h.jsx)(ce.r,{href:"/",className:"block h-full leading-none",children:(0,h.jsx)(o.default,{src:i.Z,width:"180",height:"36"})}),(0,h.jsx)(ce.r,{href:"/",className:"flex items-center px-4 py-2 text-base text-center border border-gray-300 rounded-md hover:border-gray-600 font-lf-bold",textCssColors:"text-gray-900",children:"Go to Dashboard"})]}),(0,h.jsxs)("div",{className:"flex flex-col items-center pt-6 pb-12 text-center",children:[(0,h.jsxs)("h1",{className:"text-4xl text-gray-900 font-lf-bold",children:[de(t)," "]}),"editor"!==t&&(0,h.jsx)("h2",{className:"text-xl text-gray-900 font-lf-regular",children:"across web, iOS and Android"})]}),(0,h.jsx)("div",{className:"w-1/2 pb-6 mx-auto",children:(0,h.jsx)(ie,{})}),(0,h.jsxs)("div",{className:"flex w-1/2 mx-auto bg-green-100 rounded-lg",children:[(0,h.jsx)("div",{className:"flex items-center justify-center w-16 bg-green-300 rounded-l-lg",children:(0,h.jsx)(le.J,{name:"lock-fill-2",color:"text-white",medium:!0})}),(0,h.jsx)("p",{className:"p-4 text-green-700",children:"Files you open here are only accessible to you and are securely stored. You can choose to make your animations public by publishing them."})]})]}),(0,h.jsxs)("div",{className:"py-12 mx-8 h-2/5",children:[(0,h.jsx)("div",{className:"pb-12 text-2xl text-center text-gray-900 font-lf-bold",children:"Do more with your Lottie animations"}),(0,h.jsxs)("div",{className:"flex flex-row w-full pb-4 overflow-x-auto xl:justify-center 2xl:overflow-x-hidden",children:[(0,h.jsx)(y,{href:"".concat(e,"/featured"),src:"https://assets8.lottiefiles.com/packages/lf20_sjyzqj5f.json",children:"The worldâ€™s largest ready-to-use animation library"}),(0,h.jsx)(y,{href:"".concat(e,"/mobile"),src:"https://lottie.host/b63902a7-7c3c-49a3-921f-d168a0db9969/RguYIk4YCi.json",children:"Test your animations across iOS and Android"}),(0,h.jsx)(y,{href:"".concat(e,"/features/optimize-lottie"),src:"https://lottie.host/35a5f1e1-6cf3-4115-8ccb-41b417491f83/LmUsWNVBfY.json",children:"Optimize your Lottie and massively reduce its size"}),(0,h.jsx)(y,{href:"".concat(e,"/features/color-palette"),src:"https://assets5.lottiefiles.com/packages/lf20_7jpkcvlb.json",last:!0,children:"Try our custom branded color palette"})]}),(0,h.jsx)("div",{className:"flex justify-center",children:(0,h.jsx)(ce.r,{href:"".concat(e,"/features"),target:"_blank",children:(0,h.jsx)(K.z,{text:"See more features",fontClasses:"font-lf-bold",padding:"py-2 px-4"})})})]})]})},he=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.default,{children:(0,h.jsx)("title",{children:"Preview & Test Lottie Animations on Web, iOS and Android"})}),(0,h.jsx)(pe,{})]})};he.getLayout=function(e){return(0,h.jsx)(x,{children:e})},he.showUnauthorizedView=!1,he.shouldHaveAccessToWorkflow=!1;var xe=he},71001:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/preview",function(){return r(2583)}])},27722:function(e,t,r){e.exports=r(76155)}},function(e){e.O(0,[726,6627,5731,4079,5313,8024,2140,6093,9867,9774,2888,179],(function(){return t=71001,e(e.s=t);var t}));var t=e.O();_N_E=t}]);